<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTML in Hyde #1</title>


  <style>
    body {
      background-color: skyblue;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      background-image: url('../0/img/clouds.jpg');
    }

    main {
      margin: 0 auto;
    }

    #scene {
      perspective: 40em;
      perspective-origin: 50% 10%;
      transform-style: preserve-3d;
      height: 100vh;
      width: 100vw;
      max-width: 900px;
    }

    #grass {
      position: absolute;
      width: 700px;
      height: 600px;
      transform: translate3d(7em, 20em, -7em) rotateX(90deg);
    }

    .train {
      position: absolute;
      width: 100px;
      height: 100px;
    }

    .train::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 20px;
      width: 20px;
      height: 20px;
      background: #333;
      border-radius: 50%;
      box-shadow: 40px 0 0 #333;
    }

    .train:not(:first-child)::before {
      content: '';
      position: absolute;
      right: -20px;
      top: 40px;
      width: 20px;
      height: 5px;
      background: #333;
    }
  </style>

  <script>
    const COLORS = ['red', 'blue', 'green', 'yellow', 'purple', 'orange', 'pink', 'brown', 'gray', 'black', 'white'];
    const NAMES = ["Max", "Hamish", "Annaliese", "Mia", "John", "Jane", "Jim"];

    function animateTrain(index) {
      let t = index;
      const tick = () => {
        requestAnimationFrame(() => {
          t += 1 / 60;

          const train = document.getElementById('train-' + index);
          const x = 25 + (20 * (Math.sin(t / 3)));
          const z = -7 + (20 * (Math.cos(t / 3)));
          const rotateY = (t * 57 / 3) % 360;
          // const y = -6 * Math.cos(t);
          // const rotateY = 183 + 10 * Math.sin(t);
          train.style.transform = `translate3d(${x}em, 30em, ${z}em) rotateY(${rotateY}deg)`
          train.style.backgroundColor = COLORS[index]
          train.innerHTML = NAMES[index];

          tick();
        })
      }
      tick();
    }

    animateTrain(0);
    animateTrain(1);
    animateTrain(2);
    animateTrain(3);
    animateTrain(4);
    animateTrain(5);
    animateTrain(6);
  </script>
</head>

<body>
  <main>
    <div id="scene">
      <h1> HELLO WORLD</h1>
      <img id="grass" src="../0/img/grass.avif" alt="grass" />


      <div id="train-0" class="train"></div>
      <div id="train-1" class="train"></div>

      <div id="train-2" class="train">
      </div>

      <div id="train-3" class="train"></div>

      <div id="train-4" class="train"></div>
      <div id="train-5" class="train"></div>
      <div id="train-6" class="train"></div>
  </main>
</body>

</html>